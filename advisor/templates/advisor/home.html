<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Career Advisor</title>
    <style>
        /* your existing styles stay the same */
    </style>
</head>
<body>
    <h1>Career Advisor</h1>

    <!-- âœ… Hidden form only to hold the CSRF token -->
    <form id="csrf-form" method="post">
        {% csrf_token %}
    </form>

    <div class="category-container">
        <div class="category-card" style="background-color:#4a90e2;" onclick="getCareers('AI')">
            <div class="icon">ğŸ¤–</div>
            AI
        </div>
        <div class="category-card" style="background-color:#f5a623;" onclick="getCareers('Finance')">
            <div class="icon">ğŸ’°</div>
            Finance
        </div>
        <div class="category-card" style="background-color:#d0021b;" onclick="getCareers('Design')">
            <div class="icon">ğŸ¨</div>
            Design
        </div>
        <div class="category-card" style="background-color:#7ed321;" onclick="getCareers('Healthcare')">
            <div class="icon">ğŸ¥</div>
            Healthcare
        </div>
        <div class="category-card" style="background-color:#9013fe;" onclick="getCareers('Law')">
            <div class="icon">âš–ï¸</div>
            Law
        </div>
        <div class="category-card" style="background-color:#f76c6c;" onclick="getCareers('Dance')">
            <div class="icon">ğŸ’ƒ</div>
            Dance
        </div>
    </div>

    {% if careers %}
    <div class="results">
        <h2>Recommended Careers</h2>
        {% for career in careers %}
            <div class="career-item">{{ career }}</div>
        {% endfor %}
    </div>
    {% endif %}

    <!-- âœ… Update your script -->
    <script>
        async function getCareers(interest) {
            const csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;

            const formData = new FormData();
            formData.append('interest', interest);

            const response = await fetch("", {
                method: "POST",
                headers: {
                    "X-CSRFToken": csrfToken
                },
                body: formData,
            });

            const html = await response.text();
            document.open();
            document.write(html);
            document.close();
        }
    </script>
</body>
</html>
